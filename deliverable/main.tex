\documentclass[11pt,a4paper]{article}

\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{lmodern}
\usepackage{geometry}
\usepackage{graphicx}
\usepackage{hyperref}
\usepackage{booktabs}
\usepackage{enumitem}
\usepackage{xcolor}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{pifont}
% amssymb already defines \checkmark, so we only define our version if it doesn't exist
\providecommand{\checkmark}{\ding{51}}

\geometry{margin=1in}
\setlist{leftmargin=*}

\title{MedChain Avitabile: Deliverable}
\author{Enrico Pezzano}
\date{October 2025}

\begin{document}

\maketitle

\section*{Abstract}

This deliverable documents the implementation of MedChain Avitabile, a redactable blockchain system with smart contract governance and zero-knowledge proofs for medical data GDPR compliance. Building on Ateniese et al.'s chameleon hash-based redaction foundation, this project integrates Avitabile et al.'s smart contract governance model with Groth16 SNARK proofs, consistency verification, and on-chain proof validation infrastructure.

The implementation has completed two phases with full code infrastructure: Phase 1 delivers zero-knowledge proof generation using circom circuits and snarkjs integration, replacing simulation code with cryptographically sound Groth16 proof pathways. Phase 2 extends this with on-chain verification infrastructure via Solidity contracts, including a nullifier registry for replay attack prevention, consistency proof commitment mechanisms, and complete audit trails through smart contract events. \textbf{Note:} The circuit artifacts require recompilation with circom v2.x to activate all 16 public signals (including nullifier and consistency hashes); the current build directory contains artifacts from an earlier single-signal configuration.

Key infrastructure achievements include: (1) Complete proof generation pathways with no simulation code in production paths; (2) Nullifier tracking and extraction logic for replay attack prevention; (3) Circuit definitions with 16 public signals (policyHash, merkleRoot, originalHash, redactedHash, nullifier, preStateHash, postStateHash, consistencyCheckPassed, policyAllowed - each as two 128-bit limbs); (4) Consistency proof hash computation and storage interfaces; (5) Comprehensive test coverage with 40+ unit tests and 15+ integration tests; (6) Automated deployment scripts for contract environments.

\textbf{Manual Steps Required:} To activate end-to-end verification: (1) Install circom v2.x and compile circuits with \texttt{make circuits-compile circuits-setup circuits-export-verifier}; (2) Update Solidity verifier contract to accept 16 public signals; (3) Re-test with \texttt{npx hardhat test} to validate on-chain verification. The codebase is complete and ready for these mechanical compilation steps.

\vspace{1em}
\textbf{Keywords:} Blockchain, Redactable Ledger, Zero-Knowledge Proofs, Smart Contracts, Medical Data Privacy, GDPR Compliance, Groth16, Circom

\tableofcontents
\newpage

\input{sections/introduction.tex}
\input{sections/documentation_overview.tex}
\input{sections/avitabile_implementation.tex}
\input{sections/implementation_details.tex}
\input{sections/results_and_evaluation.tex}
\input{sections/future_work.tex}
\input{sections/appendix.tex}

\nocite{botta2022towards,ateniese2017redactable,avitabile2024data}

\bibliographystyle{unsrt}
\bibliography{references}

\end{document}
